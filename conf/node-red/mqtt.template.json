{
    "id": "MQTT Flow Format",
    "label": "{{.Params.FlowId}}",
    "info": "",
    "nodes": [
        {
            "id": "TS-MQTT-IN-{{.Params.FlowId}}",
            "type": "mqtt in",
            "name": "",
            "topic": "{{.Params.MqttTopic}}",
            "qos": "0",
            "datatype": "auto",
            "broker": "TS-MQTT-CONNECT-{{.Params.FlowId}}",
            "x": 110,
            "y": 560,
            "wires": [
                [
                    "TS-MQTT-PARSE-{{.Params.FlowId}}"
                ]
            ]
        },
        {
            "id": "TS-MQTT-PARSE-{{.Params.FlowId}}",
            "type": "function",
            "name": "",
            "func": "{{.Params.TopicParse}}",
            "outputs": 1,
            "noerr": 0,
            "x": 290,
            "y": 560,
            "wires": [
                [
                    "TS-MQTT-OUTPUT-{{.Params.FlowId}}"
                ]
            ]
        },
        {
            "id": "TS-MQTT-OUTPUT-{{.Params.FlowId}}",
            "type": "influxdb batch",
            "influxdb": "TS-MQTT-INFLUXD-{{.Params.FlowId}}",
            "precision": "",
            "retentionPolicy": "",
            "name": "",
            "x": 530,
            "y": 560,
            "wires": []
        },
        {
            "id": "TS-MQTT-CONNECT-{{.Params.FlowId}}",
            "type": "mqtt-broker",
            "name": "{{.Params.MqttUrl}}",
            "broker": "{{.Params.MqttUrl}}",
            "port": "{{.Params.MqttPort}}",
            "clientid": "",
            "usetls": false,
            "compatmode": true,
            "keepalive": "60",
            "cleansession": true,
            "birthTopic": "",
            "birthQos": "0",
            "birthPayload": "",
            "closeTopic": "",
            "closeQos": "0",
            "closePayload": "",
            "willTopic": "",
            "willQos": "0",
            "willPayload": ""
        },
        {
            "id": "TS-MQTT-INFLUXD-{{.Params.FlowId}}",
            "type": "influxdb",
            "z": "",
            "hostname": "127.0.0.1",
            "port": "8086",
            "protocol": "http",
            "database": "thingspin",
            "name": "",
            "usetls": false,
            "tls": ""
        }
    ]
}