<div class="mqtt-main-title" ng-init="ctrl.initAddressTable()">
    MQTT 추가 양식
</div>
<div class="mqtt-right-button-area">
    <button id="mqtt-cancel-btn" className="btn" ng-click="ctrl.close()">
        취소
    </button>    
    <button id="mqtt-plus-btn" className="btn" ng-click="ctrl.save()">
        + MQTT
    </button>
</div>

<div class="section gf-form-group" id="main-view">
    <span class="mqtt-title" id="mqtt-title-connect">
        MQTT 접속 정보
    </span>
    <button class="mqtt-connect-btn-postion" onClick="">
        <i id="mqtt-connect-btn" class="fa fa-plug"></i>
    </button>
    <div class="mqtt-content-line"></div>
    <div class="mqtt-connect-view">
        <span class="mqtt-subtitle" id="mqtt-title-collector">
            수집기 이름
        </span>
        <div class="mqtt-edit-bg" id="mqtt-edit-margin">
            <input id="mqtt-edit" type="text" class="gf-form-input width-16"  data-placement="auto" ng-model="ctrl.collector" placeholder="수집기 이름 입력" ng-blur="ctrl.render()" data-min-length=0 ng-model-onblur>
        </div>
        <span class="mqtt-subtitle" id="mqtt-title-url-position">
            HOST
        </span>
        <div class="mqtt-edit-bg" id="mqtt-edit-margin">
            <input id="mqtt-edit" type="text" class="gf-form-input width-11"  data-placement="auto" ng-model="ctrl.connection.url" placeholder="127.0.0.1" ng-blur="ctrl.render()" data-min-length=0 ng-model-onblur>
        </div>
        <span class="mqtt-subtitle" id="mqtt-title-port">
            PORT
        </span>
        <div class="mqtt-edit-bg" id="mqtt-edit-margin">
            <input id="mqtt-edit" type="text" class="gf-form-input width-6"  data-placement="auto" ng-model="ctrl.connection.port" placeholder="1884" ng-blur="ctrl.render()" data-min-length=0 ng-model-onblur>
        </div>
        <span class="mqtt-subtitle" id="mqtt-title-alive">
            Keep Alive
        </span>
        <div class="mqtt-edit-bg" id="mqtt-edit-margin">
            <input id="mqtt-edit" type="text" class="gf-form-input width-4"  data-placement="auto" ng-model="ctrl.connection.keep_alive" placeholder="60" ng-blur="ctrl.render()" data-min-length=0 ng-model-onblur>
        </div>        
        <span class="mqtt-subtitle" id="mqtt-title-alive-sec">
            Sec
        </span>
        <span class="mqtt-subtitle" id="mqtt-title-session">
            세션 초기화
        </span>
        <input id="mqtt-session-check" type="checkbox" ng-model="ctrl.connection.session">
    </div>


    <div class="mqtt-title" id="mqtt-title-topiclist">
        수집 Topic List
    </div>
    <button id="mqtt-plus-topic-btn" className="btn" ng-click="ctrl.onShowTopicEditView()" ng-show="ctrl.isTopicEditBtn">
        + Topic
    </button>
    <div class="mqtt-content-line"></div>
    <div id="mqtt-topic-list" class="mqtt-table-size"></div>

    <div class="mqtt-topic-add-view" ng-show="ctrl.isTopicEditView">
        <div class="mqtt-title" id="mqtt-title-topic-add">
            Topic 추가
        </div>
        <span id="mqtt-title-topic-add-info">
            Topic 아이템 구성하기
        </span>
        <div id="mqtt-addview-right-button-area">
            <button id="mqtt-topic-add-cancel-btn" className="btn" ng-click="ctrl.onShowTopicEditView()">
                취소
            </button>
            <button id="mqtt-topic-add-plus-btn" className="btn" ng-click="ctrl.onTopicListAdd(ctrl.topicItem.name)">
                + Topic List
            </button>
        </div>
        <div>
            <span class="mqtt-subtitle" id="mqtt-topic-name-title">
                Name
            </span>
            <div class="mqtt-edit-bg" id="mqtt-topic-name-edit">
                <input id="mqtt-edit" type="text" class="gf-form-input width-16"  data-placement="auto" ng-model="ctrl.topicItem.name" placeholder="Topic 이름 입력" ng-blur="ctrl.render()" data-min-length=0 ng-model-onblur>
            </div>
            <span class="mqtt-subtitle" id="mqtt-topic-subtopic-title">
                Topic
            </span>
            <div class="mqtt-edit-bg" id="mqtt-topic-tags-bg">
                <bootstrap-tagsinput
                    id="topic-list-input"
                    ng-model="ctrl.topicItem.topicViewList"
                    tagclass="label label-tag"
                    placeholder="add tags"
                    style="background-color: rgba(0,0,0,0)"
                ></bootstrap-tagsinput>
            </div>
            <span class="mqtt-subtitle" id="mqtt-topic-value-title">
                Value Type
            </span>
            <div class="mqtt-edit-bg" id="mqtt-topic-value-bg">
                <select id="mqtt-topic-value-combobox" ng-model="ctrl.topicItem.value" ng-options="opts for opts in ctrl.defMqtt.values"></select>
            </div>
            <div class="mqtt-topic-contents-creator-view">
                <span class="mqtt-subtitle" id="mqtt-topic-topictype-title">
                    Topic Type
                </span>
                <div class="mqtt-edit-bg" id="mqtt-topic-type-bg">
                    <select id="mqtt-topic-type-combobox" ng-model="ctrl.topicItem.selType" ng-options="opts for opts in ctrl.defMqtt.types"></select>
                </div> 
                <div class="mqtt-edit-bg" id="mqtt-topic-type-edit">
                    <input id="mqtt-edit" type="text" class="gf-form-input width-30"  data-placement="auto" ng-model="ctrl.topicItem.item" placeholder="Topic 이름 입력" ng-blur="ctrl.render()" data-min-length=0 ng-model-onblur>
                </div>
                <button id="mqtt-topic-edit-add-plus-btn" className="btn" ng-click="ctrl.onTopicAdd(ctrl.topicItem.item)">
                    + 추가
                </button>                
                <div id="mqtt-title-topic-edit-info">
                    # 과 + 의 경우 해당 부분을 호칭할 Tag 이름을 정의
                </div>         
            </div>
        </div>
    </div>
    
    <br></br>
    <div class="gf-form">
        <button class="btn btn-success width-7" ng-click="ctrl.addMqttCollector(this, ctrl.connection.url, ctrl.connection.port, ctrl.connection.name)">
            연결 확인
        </button>
    </div>
</div>