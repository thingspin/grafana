<div class="mqtt-body">
    <div class="mqtt-main-title" ng-init="ctrl.initAddressTable()">
        MQTT 추가 양식
    </div>
    <div class="mqtt-right-button-area">
        <button id="mqtt-cancel-btn" className="btn" ng-click="ctrl.close(false)">
            취소
        </button>
        <button id="mqtt-plus-btn" className="btn" ng-click="ctrl.save(true)">
            저장
        </button>
    </div>

    <div id="mqtt-main-view">
        <span class="mqtt-title" id="mqtt-title-connect">
            MQTT 접속 정보
        </span>
        <button id="mqtt-connect-state" class="mqtt-connect-btn-postion" ng-click="ctrl.save(false)">
            <i id="mqtt-connect-btn" class="tsi icon-ts-power"></i>
        </button>
        <div class="mqtt-content-line"></div>
        <div class="mqtt-connect-view">
            <div class="mqtt-edit-connect">
                <div class="ts-input-group collect">
                    <div class="ts-mqtt-collect-label">수집기 이름</div>
                    <div class="ts-input">
                        <input type="text" ng-model="ctrl.collector"/>
                        <span ng-class="{separator: true, enable: ctrl.collector}"></span>
                    </div>
                </div>
                <div class="ts-input-group url">
                    <div class="ts-mqtt-url-label">Host</div>
                    <div class="ts-input">
                        <input type="text" ng-model="ctrl.connection.url"/>
                        <span ng-class="{separator: true, enable: ctrl.connection.url}"></span>
                    </div>
                </div>
                <div class="ts-input-group port">
                    <div class="ts-mqtt-port-label">Port</div>
                    <div class="ts-input">
                        <input type="text" ng-model="ctrl.connection.port"/>
                        <span ng-class="{separator: true, enable: ctrl.connection.port}"></span>
                    </div>
                </div>       
            </div>
        </div>
        <div class="mqtt-title" id="mqtt-title-add-connect">
            MQTT 추가 정보
        </div>
        <div class="mqtt-content-line"></div>
        <div class="mqtt-edit-connect">
            <div class="ts-input-group keep">
                <div class="ts-mqtt-keep-label">Keep Alive</div>
                <div class="ts-input">
                    <input type="text" ng-model="ctrl.connection.keep_alive"/>
                    <span ng-class="{separator: true, enable: ctrl.connection.keep_alive}"></span>
                </div>
            </div>
            <span class="mqtt-subtitle" id="mqtt-title-alive-sec">
                    Sec
            </span>
            <span class="mqtt-subtitle" id="mqtt-title-session">
                세션 초기화
            </span>
            <input id="mqtt-session-check" type="checkbox" ng-model="ctrl.connection.session">                       
        </div>
        <div class="mqtt-title" id="mqtt-title-topiclist">
            수집 Topic List
        </div>
        <button id="mqtt-plus-topic-btn" className="btn" ng-click="ctrl.onShowTopicEditView(true)" ng-show="ctrl.isTopicEditBtn">
            + Topic
        </button>
        <div class="mqtt-content-line"></div>
        <div id="mqtt-topic-list" class="mqtt-table-size"></div>
        <div class="mqtt-topic-add-view" ng-show="ctrl.isTopicEditView">
            <div class="mqtt-title" id="mqtt-title-topic-add">
                Topic 추가
            </div>
            <span id="mqtt-title-topic-add-info">
                Topic 아이템 구성하기
            </span>
            <div id="mqtt-addview-right-button-area">
                <button id="mqtt-topic-add-cancel-btn" className="btn" ng-click="ctrl.onShowTopicEditView(false)">
                    취소
                </button>
                <button id="mqtt-topic-add-plus-btn" className="btn" ng-click="ctrl.onTopicListAdd(ctrl.topicItem.name)">
                    + Topic List
                </button>
            </div>
            <div>
                <span class="mqtt-subtitle" id="mqtt-topic-name-title">
                    Name
                </span>
                <div class="mqtt-edit-bg" id="mqtt-topic-name-edit">
                    <input id="mqtt-edit" type="text" class="gf-form-input width-16"  data-placement="auto" ng-model="ctrl.topicItem.name" placeholder="Topic 이름 입력" ng-blur="ctrl.render()" data-min-length=0 ng-model-onblur>
                </div>
                <span class="mqtt-subtitle" id="mqtt-topic-subtopic-title">
                    Topic
                </span>
                <div class="mqtt-edit-bg" id="mqtt-topic-tags-bg">
                    <bootstrap-tagsinput
                        id="topic-list-input"
                        ng-model="ctrl.topicItem.topicViewList"
                        tagclass="label label-tag"
                        placeholder="add tags"
                        style="background-color: rgba(0,0,0,0)"
                    ></bootstrap-tagsinput>
                </div>
                <span class="mqtt-subtitle" id="mqtt-topic-value-title">
                    Value Type
                </span>
                <div class="mqtt-edit-bg" id="mqtt-topic-value-bg">
                    <select id="mqtt-topic-value-combobox" ng-model="ctrl.topicItem.value" ng-options="opts for opts in ctrl.defMqtt.values"></select>
                </div>
                <div class="mqtt-topic-contents-creator-view">
                    <span class="mqtt-subtitle" id="mqtt-topic-topictype-title">
                        Topic Type
                    </span>
                    <div class="mqtt-edit-bg" id="mqtt-topic-type-bg">
                        <select id="mqtt-topic-type-combobox" ng-model="ctrl.topicItem.selType" ng-options="opts for opts in ctrl.defMqtt.types"></select>
                    </div> 
                    <div class="mqtt-edit-bg" id="mqtt-topic-type-edit">
                        <input id="mqtt-edit" type="text" class="gf-form-input width-30"  data-placement="auto" ng-model="ctrl.topicItem.item" placeholder="Topic 이름 입력" ng-blur="ctrl.render()" data-min-length=0 ng-model-onblur>
                    </div>
                    <button id="mqtt-topic-edit-add-plus-btn" className="btn" ng-click="ctrl.onTopicAdd(ctrl.topicItem.item)">
                        + 추가
                    </button>                
                    <div id="mqtt-title-topic-edit-info">
                        # 과 + 의 경우 해당 부분을 호칭할 Tag 이름을 정의
                    </div>         
                </div>
            </div>
        </div>
    </div>
</div>