<!--<page-header model="navModel"></page-header>-->
<div class="login container">
	<div class="login-content">
		<div class="login-branding">
			<img class="logo-icon" src="public/img/thingspin/thingspin_icon.svg" alt="ThingSPIN" />
			<!--
			<div class="logo-wordmark" />
			-->
		</div>
		<div class="login-outer-box">
			<div class="signup">
				<h3 class="ts-login-reset-title">비밀번호 초기화</h3>
		
				<div ng-if="ldapEnabled || authProxyEnabled">
					LDAP나 Auth 프록시 인증이 활성화된 상태에서 비밀번호 초기화를 할 수 없습니다.
					<!--You cannot reset password when LDAP or Auth Proxy authentication is enabled.-->
				</div>
				<div ng-if="disableLoginForm">
					로그인 양식이 비활성화된 상태에서 비밀번호 초기화를 할 수 없습니다.
					<!--You cannot reset password when login form is disabled.-->
				</div>
				</div>
				<form name="sendResetForm" class="login-form gf-form-group" ng-show="mode === 'send'" ng-hide="ldapEnabled || authProxyEnabled || disableLoginForm">
					<div class="gf-form">
							<span class="gf-form-label width-7">이름</span>
							<input type="text" name="username" class="gf-form-input max-width-14" required ng-model='formModel.userOrEmail' placeholder="email or username">
					</div>
					<div class="gf-form-button-row">
						<button type="submit" class="btn btn-primary" ng-click="sendResetEmail();" ng-disabled="!sendResetForm.$valid">
							비밀번호 초기화
						</button>
						<a href="login" class="btn btn-inverse">
							뒤로가기
						</a>
		
					</div>
				</form>
				<div ng-show="mode === 'email-sent'">
					<span class="ts-login-reset-after">초기화 링크 주소를 해당 메일로 보냈습니다.
					<!--An email with a reset link has been sent to the email address.--> <br>
					곧 메일이 도착할 것입니다.</span>
					<!--You should receive it shortly.-->
					<div class="p-t-1">
						<a href="login" class="btn btn-primary p-t-1">
							로그인
						</a>
					</div>
				</div>
				<form name="resetForm" class="login-form gf-form-group" ng-show="mode === 'reset'">
					<div class="gf-form">
						<span class="gf-form-label width-9">새로운 비밀번호</span>
						<input type="password" name="NewPassword" class="gf-form-input max-width-14" required ng-minlength="4" ng-model='formModel.newPassword' placeholder="password" watch-change="formModel.newPassword = inputValue;">
					</div>
					<div class="gf-form">
						<span class="gf-form-label width-9">비밀번호 확인</span>
						<input type="password" name="ConfirmPassword" class="gf-form-input max-width-14" required ng-minlength="4" ng-model='formModel.confirmPassword' placeholder="confirm password">
					</div>
					<div class="signup__password-strength">
						<password-strength password="formModel.newPassword"></password-strength>
					</div>
					<div class="gf-form-button-row">
						<button type="submit" class="btn btn-primary" ng-click="submitReset();" ng-disabled="!resetForm.$valid">
							비밀번호 초기화
						</button>
					</div>
				</form>
			</div>
		</div>
	</div>
</div>